<project name="project" default="compile" basedir="." xmlns:fx="javafx:com.sun.javafx.tools.ant">
    <description>
        IJA Project
        Danil Grigorev, xgrigo02
        Viktoria Cervenanska, xcerve23
    </description>

    <property name="src.dir" value="src"/>
    <property name="build.dir" value="build/"/>
    <property name="dest.client.dir" location="dest-client/"/>
    <property name="doc.dir" value="doc/"/>

    <!-- COMPILE -->
    <target name="compile" depends="clean">
        <!-- COPY FXML FILES TO BUILD DIRECTORY -->
        <copy todir="${build.dir}/FXML_src">
            <fileset dir="${src.dir}/FXML_src"/>
        </copy>

        <!-- COPY IMAGES TO BUILD DIRECTORY -->
        <copy todir="${build.dir}/images">
            <fileset dir="${src.dir}/images"/>
        </copy>

        <!-- COMPILE APPLICATION -->
        <javac includeantruntime="false"
               srcdir="${src.dir}"
               destdir="${build.dir}"
               fork="yes"
               executable="javac"
               source="1.8"
               debug="on">
        </javac>

        <!--<fx:production id="ijaBlocks" name="project" mainClass="production.Logic.Main"/>-->
        <!--<fx:resources id="appRes">-->
        <!--<fx:fileset dir="${dest.client.dir}" includes="ija-client.jar"/>-->
        <!--</fx:resources>-->
        <!--<jar destfile="${dest.client.dir}/ija-client.jar"-->
        <!--basedir = "${build.dir}/Logic">-->
        <!--<fx:/>-->
        <!--<fx:resources refid="appRes"/>-->
        <!--<fileset dir="${build.dir}"/>-->
        <!--<manifest>-->
        <!--<attribute name="Main-Class" value = "Logic.Main"/>-->
        <!--</manifest>-->
        <!--</jar>-->

        <!-- CREATE JAR -->
        <taskdef resource="com/sun/javafx/tools/ant/antlib.xml" uri="javafx:com.sun.javafx.tools.ant"
        classpath="lib/ant-javafx.jar"/>

        <fx:application id="projectExec"
                        name="JavaFXHelloWorldApp"
                        mainClass="Logic.Main"/>

        <fx:resources id="appRes">
            <fx:fileset dir="${build.dist.dir}" includes="HelloWorld.jar"/>
        </fx:resources>

        <fx:jar destfile="${build.dist.dir}/HelloWorld.jar">
            <fx:application refid="projectExec"/>
            <fx:resources refid="appRes"/>
            <fileset dir="${build.classes.dir}"/>
        </fx:jar>
    </target>

    <!-- RUN -->
    <!-- <target name="run" depends="compile"> -->
        <!-- <java jar="${dest.client.dir}/ija-client.jar" fork="true"/> -->
    <!-- </target> -->

    <!-- CLEAN -->
    <target name="clean" description="clean up">
        <delete includeEmptyDirs="true">
            <fileset dir="${build.dir}" includes="**/*" />
        </delete>
        <delete includeEmptyDirs="true">
            <fileset dir="${dest.client.dir}" includes="**/*"/>
        </delete>
    </target>
</project>